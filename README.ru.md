# Pero

Графопостроитель (перо), позволяющий рисовать графики последовательно по точкам. 
Использует библиотеку matplotlib.

[English version](README.md)


# Зависимости

- Python 3.6.x
- numpy
- matplotlib


# Установка
Все команды выполняются в командной строке.

**Вариант первый.** Клонируем репозиторий и переходим в созданную директорию 

```commandline
git clone https://github.com/Sherevv/pero.git pero

cd pero
```

и выполняем команду:
```
python setup.py install
```
или
```
pip install .
```

**Второй вариант.** Установка с помощью pip из удаленного репозитория:

```
pip install git+https://github.com/Sherevv/pero.git
```

# Описание класса Pero

СИНТАКСИС:

    obj = Pero( x, y )
    obj = Pero( p1,...,pn ) 
    
ДАНО:

x, y - координаты начального положения пера = скаляры float

ИЛИ 
 
p1,...,pn (n>0) - объекты класса Pero


-------------------------------------------------------------------------

Обект Pero имеет внутренний буфер. 
При размере буфера (числе вмещаемых в него точек) равном 1,
пермещения пера (с помощью методов punct, vector) автоматически приводят 
к построению графика. При этом операции с буфером при помощи методов 
draw и transform не доступны ( попытка их выполнения приводит к ошибке ).

При размере буфера, большем 1, при перемещениях пера (с помощью 
методов punct, vector) новые точки графика временно накапливаются
в нем, но не отображаются в координатных осях.
Для построеия графика в этом случае необходимо применять метод draw
(после этого в буфере сохраняется только последняя точка).

Также, если размер буфера больше 1, то при переполнении буфера, его размер 
автоматически увеличивается ( на величину первоначального
размера буфера ). 

Изменить размер буфера можно с помощью метода set.

# Методы класса Pero
**punct()** - "перемещает" перо в точку с заданными координатами

СИНТАКСИС:

    obj.punct( x, y )

**vector()** - "перемещает" перо на заданный вектор от последней точки строящейся линии к новой 

СИНТАКСИС:
    
    obj.vector( dx, dy )
    
**set(params)** - устанавливает значения свойств объекта класса Pero

СИНТАКСИС:

    obj.set( 'lineColor' , color )    # установка цвета линии   
    obj.set( 'patchColor', color )    # установка цвета заливки
    obj.set( 'lineStyle' , style )    # установка стиля линии                
    obj.set( 'lineWidth' , width )    # установка толщины линии 
    obj.set( 'marker'    , marker )   # установка типа маркера
    obj.set( 'markerSize , size )     # установка размера маркера   
    obj.set( 'bufsize'   , bufSize )  # установка размера буфера                        
    obj.set( 'delay'     , delay )    # установка величины искуственной задержки

также любой набор свойств из этого числа можно устанавливать одновременно:    
    
    obj.set( 'lineColor', color,..., 'delay', delay ) 
    
(пары "свойство-значение" могут следовать в любом порядке)        

Параметры:
color = цвет = 'b' | 'r' | 'g' | 'y' | 'k' | 'w' | 'm' | 3-вектор float  
(изначально цвет устанавливается равным 'b')  и другие допустимые [варианты](https://matplotlib.org/api/colors_api.html)

style = стиль линии = 'solid', 'dashed', 'dashdot', 'dotted', '-', '--', '-.', ':', 'None', ' ', '' 
(изначально стиль линии устанавливается равным '-')

width  = толщина линии = скаляр double
(изначально толщина линии устанавливается равной 0.5)

marker = вид маркеров = '.', ',', 'o', 'v', '^', '<', '>', '1', '2', '3', '4', '8',
                                                '*', '+', '|', '_', 's', 'h', 'H', 'D', 'd', 'p', 'P', 'x', 'X', 'None', ' ', ''
( изначально установлено значение 'None' )

size = размер маркеров = скаляр double ( изначально установлено значение 6 )

bufSize = размер буфера (по умолчанию 6)   
                     
delay = длительность искуственной задержки а сек. = скаляр float
( изначально установлено значение 0 )

**draw()** - строит линию или закрашивает участок (или их семейство), 
координаты точек которой содержатся во внутреннем буфере

СИНТАКСИС:

    obj.draw()
    obj.draw( type )            
    h = obj.draw()   
    h = obj.draw( type )           
    obj.draw( type, dx, dy )            
    h = obj.draw( type, dx, dy )

type = 'line' | 'patch'  (по умолчанию type = 'line')

dx, dy - координаты вектора смещения пера (по умолчанию dx = dy = 0)

h - объект построенной линии

**flip()** - переворачивает задом наперёд содержимое внутреннего буфера объекта

СИНТАКСИС:
    
    obj2  = obj1.flip()

**transform(f, args)** - выполняет преобразование координат точек, нахоящихся в буфере, по заданному закону

СИНТАКСИС:

    obj.transform( f )
    obj.transform( f, p1,...,pn )

f - ссылка на функцию, осушествляющую преобразование координатной плоскости и имеющую вид:

    x2, y2 = F( x1, y1 ) 

**print()** - отображает объект класса Pero в командном окне

СИНТАКСИС:

    obj.print() # отображает объект класса Pero в командном окне
    obj.print( 'prime' )  # отображает только основную информацию    

# Пример использования

Создайте python скрипт, например `start.py`
```python
from pero import Pero

p = Pero(0, 1)  # Создаем перо с начальными координатами (0,1)
p.punct(1,1)  # Перемещаем перо в точку (1,1)
p.punct(0,1)  # Перемещаем перо в точку (0,1)
p.draw() # Отрисовываем ломаную из точек
p.set('linecolor', 'r') # Устанавливаем цвет красный цвет линии
p.vector(1,2) # Смещаем перо в точку на 1 по x и на 2 по y
p.draw()  # Отрисовываем ломаную из точек
# необходимо вызывать метод draw после каждого изменения параметров 
# с помощью функции set (например, цвета линии)


input()  # для предотвращения закрытия окна после отрисовки
```

затем вызываете исполнение скрипта в командной строке
```commandline
python start.py
```


# Использования интерактивной консоли python
Подготовьте python файл с функцией (например, файл `myfunc.py`):
```python
def draw_cube(p):
    """ 
    Рисует зеленый квадрат со стороной 1, 
    затем устанавливает синий цвет линии
    """
    p.set('linecolor', 'g')
    p.vector(0, 1)
    p.vector(1, 0)
    p.vector(0, -1)
    p.vector(-1, 0)
    p.draw()
    p.set('linecolor', 'b')
    
```

затем запускаем консоль python
```commandline
python
```
и выполняем следующие команды

```
>>> from pero import Pero
>>> from myfunc import draw_line
>>> p = Pero(1, 1)
>>> draw_line(p)
```